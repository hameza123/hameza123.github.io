<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Keycloak : Part 4 ¬∑ SecLice
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="SecLice">
<meta name="description" content="A practical introduction to Keycloak OAuth 2.0 grant flows with real examples and security analysis">
<meta name="keywords" content="blog,Cybersecurity">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Keycloak : Part 4">
  <meta name="twitter:description" content="A practical introduction to Keycloak OAuth 2.0 grant flows with real examples and security analysis">

<meta property="og:url" content="http://localhost:1313/projects/keycloak4/">
  <meta property="og:site_name" content="SecLice">
  <meta property="og:title" content="Keycloak : Part 4">
  <meta property="og:description" content="A practical introduction to Keycloak OAuth 2.0 grant flows with real examples and security analysis">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2025-10-05T13:30:30+01:00">
    <meta property="article:modified_time" content="2025-10-05T13:30:30+01:00">
    <meta property="article:tag" content="Keycloak">
    <meta property="article:tag" content="Oauth2">
    <meta property="article:tag" content="Security">
    <meta property="article:tag" content="Iam">
    <meta property="article:tag" content="Authentication">




<link rel="canonical" href="http://localhost:1313/projects/keycloak4/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      SecLice
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/ressources/">Ressources</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact me</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/pt-br/">üáßüá∑</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="http://localhost:1313/projects/keycloak4/">
          Keycloak : Part 4
        </a>
      </h1>
    </header>

    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAuth 2.0 Authorization Code Grant Flow Demo</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
        }
<pre><code>    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
        background-color: #f5f7fa;
        color: var(--dark);
        line-height: 1.6;
        padding: 20px;
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
    }
    
    header {
        text-align: center;
        margin-bottom: 30px;
        padding: 20px;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    h1 {
        color: var(--primary);
        margin-bottom: 10px;
    }
    
    .warning {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        color: #856404;
        padding: 15px;
        border-radius: 5px;
        margin: 15px 0;
        font-weight: bold;
    }
    
    .flow-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .step {
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        overflow: hidden;
    }
    
    .step-header {
        background-color: var(--primary);
        color: white;
        padding: 15px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
    }
    
    .step-header h2 {
        font-size: 1.2rem;
        margin: 0;
    }
    
    .step-content {
        padding: 20px;
        display: none;
    }
    
    .step.active .step-content {
        display: block;
    }
    
    .step-number {
        background-color: var(--secondary);
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
    }
    
    .entity {
        margin: 15px 0;
        padding: 15px;
        border-radius: 5px;
        background-color: var(--light);
    }
    
    .entity h3 {
        margin-bottom: 10px;
        color: var(--primary);
    }
    
    .code-block {
        background-color: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        margin: 10px 0;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
    }
    
    .request-response {
        display: flex;
        gap: 20px;
        margin: 20px 0;
    }
    
    .request, .response {
        flex: 1;
    }
    
    .request h3, .response h3 {
        background-color: var(--secondary);
        color: white;
        padding: 10px;
        border-radius: 5px 5px 0 0;
    }
    
    .request-content, .response-content {
        background-color: white;
        border: 1px solid #ddd;
        border-top: none;
        padding: 15px;
        border-radius: 0 0 5px 5px;
    }
    
    .btn {
        display: inline-block;
        background-color: var(--secondary);
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s;
        margin: 5px;
    }
    
    .btn:hover {
        background-color: #2980b9;
    }
    
    .btn-success {
        background-color: var(--success);
    }
    
    .btn-success:hover {
        background-color: #219653;
    }
    
    .btn-warning {
        background-color: var(--warning);
    }
    
    .btn-warning:hover {
        background-color: #e67e22;
    }
    
    .btn-danger {
        background-color: var(--danger);
    }
    
    .btn-danger:hover {
        background-color: #c0392b;
    }
    
    .token-display {
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 5px;
        padding: 15px;
        margin: 15px 0;
        word-break: break-all;
    }
    
    .token-label {
        font-weight: bold;
        color: var(--primary);
    }
    
    .flow-diagram {
        text-align: center;
        margin: 30px 0;
    }
    
    .flow-diagram img {
        max-width: 100%;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    
    .demo-controls {
        text-align: center;
        margin: 20px 0;
    }
    
    .status {
        padding: 10px;
        border-radius: 5px;
        margin: 10px 0;
        text-align: center;
        font-weight: bold;
    }
    
    .status-success {
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    
    .status-error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
    
    .status-info {
        background-color: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
    }
    
    .form-group {
        margin-bottom: 15px;
    }
    
    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    
    input[type=&quot;text&quot;], input[type=&quot;password&quot;] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    
    @media (max-width: 768px) {
        .request-response {
            flex-direction: column;
        }
    }
&lt;/style&gt;
</code></pre>
</head>
<body>
    <div class="container">
        <header>
            <h1>OAuth 2.0 Authorization Code Grant Flow Demo</h1>
            <p>This demo visualizes the complete OAuth 2.0 Authorization Code Grant Flow with all steps</p>
        </header>
<pre><code>    &lt;div class=&quot;warning&quot;&gt;
        &lt;strong&gt;Important Note:&lt;/strong&gt; This demo client is for demonstration purposes only. All the mandatory validations and recommended security precautions of a production-ready OAuth 2.0 client library are missing here. Do NOT use any code of this client for production!
    &lt;/div&gt;
    
    &lt;div class=&quot;flow-diagram&quot;&gt;
        &lt;h2&gt;OAuth 2.0 Authorization Code Grant Flow&lt;/h2&gt;
        &lt;div style=&quot;background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);&quot;&gt;
            &lt;div style=&quot;display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;&quot;&gt;
                &lt;div style=&quot;text-align: center;&quot;&gt;
                    &lt;div style=&quot;background-color: #3498db; color: white; padding: 10px; border-radius: 5px;&quot;&gt;Resource Owner (User)&lt;/div&gt;
                &lt;/div&gt;
                &lt;div style=&quot;text-align: center;&quot;&gt;
                    &lt;div style=&quot;background-color: #2ecc71; color: white; padding: 10px; border-radius: 5px;&quot;&gt;Client Application&lt;/div&gt;
                &lt;/div&gt;
                &lt;div style=&quot;text-align: center;&quot;&gt;
                    &lt;div style=&quot;background-color: #e74c3c; color: white; padding: 10px; border-radius: 5px;&quot;&gt;Authorization Server&lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div style=&quot;display: flex; flex-direction: column; gap: 15px;&quot;&gt;
                &lt;div style=&quot;display: flex; justify-content: space-between; align-items: center;&quot;&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;User accesses client app&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: left;&quot;&gt;Client redirects to Auth Server&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;Auth Server shows login &amp; consent&lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div style=&quot;display: flex; justify-content: space-between; align-items: center;&quot;&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;User authenticates &amp; consents&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: left;&quot;&gt;Auth Server redirects with auth code&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;Client receives auth code&lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div style=&quot;display: flex; justify-content: space-between; align-items: center;&quot;&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: left;&quot;&gt;Client exchanges code for tokens&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;Auth Server returns tokens&lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div style=&quot;display: flex; justify-content: space-between; align-items: center;&quot;&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: left;&quot;&gt;Client uses access token&lt;/div&gt;
                    &lt;div style=&quot;width: 5%; text-align: center;&quot;&gt;‚Üí&lt;/div&gt;
                    &lt;div style=&quot;width: 30%; text-align: right;&quot;&gt;Access protected resources&lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;div class=&quot;demo-controls&quot;&gt;
        &lt;button id=&quot;startDemo&quot; class=&quot;btn btn-success&quot;&gt;Start Demo Flow&lt;/button&gt;
        &lt;button id=&quot;resetDemo&quot; class=&quot;btn btn-danger&quot;&gt;Reset Demo&lt;/button&gt;
    &lt;/div&gt;
    
    &lt;div id=&quot;statusMessage&quot; class=&quot;status status-info&quot; style=&quot;display: none;&quot;&gt;
        Click &quot;Start Demo Flow&quot; to begin the OAuth 2.0 Authorization Code Grant Flow demonstration.
    &lt;/div&gt;
    
    &lt;div class=&quot;flow-container&quot;&gt;
        &lt;!-- Step 1: Authorization Request --&gt;
        &lt;div class=&quot;step&quot; id=&quot;step1&quot;&gt;
            &lt;div class=&quot;step-header&quot;&gt;
                &lt;h2&gt;Step 1: Authorization Request&lt;/h2&gt;
                &lt;div class=&quot;step-number&quot;&gt;1&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;p&gt;The client application redirects the user to the authorization server with the following parameters:&lt;/p&gt;
                
                &lt;div class=&quot;entity&quot;&gt;
                    &lt;h3&gt;Client Application&lt;/h3&gt;
                    &lt;p&gt;Initiates the OAuth flow by redirecting the user to the authorization server.&lt;/p&gt;
                &lt;/div&gt;
                
                &lt;div class=&quot;request-response&quot;&gt;
                    &lt;div class=&quot;request&quot;&gt;
                        &lt;h3&gt;Authorization Request&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;&lt;strong&gt;Endpoint:&lt;/strong&gt; &lt;code id=&quot;authEndpoint&quot;&gt;https://auth-server.example.com/authorize&lt;/code&gt;&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;HTTP Method:&lt;/strong&gt; GET&lt;/p&gt;
                            &lt;div class=&quot;code-block&quot;&gt;
                            
GET /authorize?response_type=code
&amp;client_id=example_client_id
&amp;redirect_uri=https://client.example.com/callback
&amp;scope=read%20write
&amp;state=random_state_string HTTP/1.1
Host: auth-server.example.com
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;div class=&quot;response&quot;&gt;
                        &lt;h3&gt;User Interaction&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;The authorization server presents a login form and consent screen to the user.&lt;/p&gt;
                            
                            &lt;div class=&quot;form-group&quot;&gt;
                                &lt;label for=&quot;username&quot;&gt;Username:&lt;/label&gt;
                                &lt;input type=&quot;text&quot; id=&quot;username&quot; value=&quot;demo_user&quot;&gt;
                            &lt;/div&gt;
                            
                            &lt;div class=&quot;form-group&quot;&gt;
                                &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;
                                &lt;input type=&quot;password&quot; id=&quot;password&quot; value=&quot;demo_password&quot;&gt;
                            &lt;/div&gt;
                            
                            &lt;div class=&quot;form-group&quot;&gt;
                                &lt;label&gt;Requested Permissions:&lt;/label&gt;
                                &lt;div&gt;
                                    &lt;input type=&quot;checkbox&quot; id=&quot;scopeRead&quot; checked disabled&gt; Read access&lt;br&gt;
                                    &lt;input type=&quot;checkbox&quot; id=&quot;scopeWrite&quot; checked disabled&gt; Write access
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                            &lt;button id=&quot;approveAuth&quot; class=&quot;btn btn-success&quot; disabled&gt;Approve&lt;/button&gt;
                            &lt;button id=&quot;denyAuth&quot; class=&quot;btn btn-danger&quot; disabled&gt;Deny&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 2: Authorization Response --&gt;
        &lt;div class=&quot;step&quot; id=&quot;step2&quot;&gt;
            &lt;div class=&quot;step-header&quot;&gt;
                &lt;h2&gt;Step 2: Authorization Response&lt;/h2&gt;
                &lt;div class=&quot;step-number&quot;&gt;2&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;p&gt;After the user approves the request, the authorization server redirects back to the client with an authorization code.&lt;/p&gt;
                
                &lt;div class=&quot;entity&quot;&gt;
                    &lt;h3&gt;Authorization Server&lt;/h3&gt;
                    &lt;p&gt;Processes the user's approval and redirects back to the client with an authorization code.&lt;/p&gt;
                &lt;/div&gt;
                
                &lt;div class=&quot;request-response&quot;&gt;
                    &lt;div class=&quot;request&quot;&gt;
                        &lt;h3&gt;Redirect to Client&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;&lt;strong&gt;HTTP Status:&lt;/strong&gt; 302 Found&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;Location Header:&lt;/strong&gt;&lt;/p&gt;
                            &lt;div class=&quot;code-block&quot; id=&quot;redirectLocation&quot;&gt;
https://client.example.com/callback?
code=AUTH_CODE_12345
&amp;state=random_state_string
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;div class=&quot;response&quot;&gt;
                        &lt;h3&gt;Client Receives Authorization Code&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;The client extracts the authorization code from the URL parameters.&lt;/p&gt;
                            
                            &lt;div class=&quot;token-display&quot;&gt;
                                &lt;span class=&quot;token-label&quot;&gt;Authorization Code:&lt;/span&gt;
                                &lt;span id=&quot;authCodeDisplay&quot;&gt;Not received yet&lt;/span&gt;
                            &lt;/div&gt;
                            
                            &lt;div class=&quot;token-display&quot;&gt;
                                &lt;span class=&quot;token-label&quot;&gt;State:&lt;/span&gt;
                                &lt;span id=&quot;stateDisplay&quot;&gt;Not received yet&lt;/span&gt;
                            &lt;/div&gt;
                            
                            &lt;p&gt;&lt;em&gt;The client should validate that the state parameter matches the one sent in the authorization request to prevent CSRF attacks.&lt;/em&gt;&lt;/p&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 3: Token Request --&gt;
        &lt;div class=&quot;step&quot; id=&quot;step3&quot;&gt;
            &lt;div class=&quot;step-header&quot;&gt;
                &lt;h2&gt;Step 3: Token Request&lt;/h2&gt;
                &lt;div class=&quot;step-number&quot;&gt;3&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;p&gt;The client exchanges the authorization code for an access token by making a server-to-server request to the token endpoint.&lt;/p&gt;
                
                &lt;div class=&quot;entity&quot;&gt;
                    &lt;h3&gt;Client Application&lt;/h3&gt;
                    &lt;p&gt;Exchanges the authorization code for tokens at the token endpoint.&lt;/p&gt;
                &lt;/div&gt;
                
                &lt;div class=&quot;request-response&quot;&gt;
                    &lt;div class=&quot;request&quot;&gt;
                        &lt;h3&gt;Token Request&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;&lt;strong&gt;Endpoint:&lt;/strong&gt; &lt;code&gt;https://auth-server.example.com/token&lt;/code&gt;&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;HTTP Method:&lt;/strong&gt; POST&lt;/p&gt;
                            &lt;div class=&quot;code-block&quot;&gt;
POST /token HTTP/1.1
Host: auth-server.example.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code
&amp;code=AUTH_CODE_12345
&amp;redirect_uri=https://client.example.com/callback
&amp;client_id=example_client_id
&amp;client_secret=example_client_secret
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;div class=&quot;response&quot;&gt;
                        &lt;h3&gt;Token Response&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;The authorization server responds with an access token and optionally a refresh token.&lt;/p&gt;
                            
                            &lt;div class=&quot;code-block&quot; id=&quot;tokenResponse&quot;&gt;
{
  &quot;access_token&quot;: &quot;ACCESS_TOKEN_XYZ&quot;,
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;expires_in&quot;: 3600,
  &quot;refresh_token&quot;: &quot;REFRESH_TOKEN_ABC&quot;,
  &quot;scope&quot;: &quot;read write&quot;
}
                            &lt;/div&gt;
                            
                            &lt;div class=&quot;token-display&quot;&gt;
                                &lt;span class=&quot;token-label&quot;&gt;Access Token:&lt;/span&gt;
                                &lt;span id=&quot;accessTokenDisplay&quot;&gt;Not received yet&lt;/span&gt;
                            &lt;/div&gt;
                            
                            &lt;div class=&quot;token-display&quot;&gt;
                                &lt;span class=&quot;token-label&quot;&gt;Refresh Token:&lt;/span&gt;
                                &lt;span id=&quot;refreshTokenDisplay&quot;&gt;Not received yet&lt;/span&gt;
                            &lt;/div&gt;
                            
                            &lt;button id=&quot;exchangeToken&quot; class=&quot;btn btn-success&quot; disabled&gt;Exchange Code for Token&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 4: Using the Access Token --&gt;
        &lt;div class=&quot;step&quot; id=&quot;step4&quot;&gt;
            &lt;div class=&quot;step-header&quot;&gt;
                &lt;h2&gt;Step 4: Using the Access Token&lt;/h2&gt;
                &lt;div class=&quot;step-number&quot;&gt;4&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;p&gt;The client can now use the access token to make requests to the resource server.&lt;/p&gt;
                
                &lt;div class=&quot;entity&quot;&gt;
                    &lt;h3&gt;Resource Server&lt;/h3&gt;
                    &lt;p&gt;Validates the access token and returns the requested resources.&lt;/p&gt;
                &lt;/div&gt;
                
                &lt;div class=&quot;request-response&quot;&gt;
                    &lt;div class=&quot;request&quot;&gt;
                        &lt;h3&gt;API Request with Access Token&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;&lt;strong&gt;Endpoint:&lt;/strong&gt; &lt;code&gt;https://api.example.com/user/profile&lt;/code&gt;&lt;/p&gt;
                            &lt;p&gt;&lt;strong&gt;HTTP Method:&lt;/strong&gt; GET&lt;/p&gt;
                            &lt;div class=&quot;code-block&quot;&gt;
GET /user/profile HTTP/1.1
Host: api.example.com
Authorization: Bearer ACCESS_TOKEN_XYZ
                            &lt;/div&gt;
                            
                            &lt;button id=&quot;makeApiCall&quot; class=&quot;btn btn-success&quot; disabled&gt;Make API Request&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;div class=&quot;response&quot;&gt;
                        &lt;h3&gt;API Response&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;The resource server validates the token and returns the requested data.&lt;/p&gt;
                            
                            &lt;div class=&quot;code-block&quot; id=&quot;apiResponse&quot;&gt;
{
  &quot;user_id&quot;: &quot;12345&quot;,
  &quot;username&quot;: &quot;demo_user&quot;,
  &quot;email&quot;: &quot;user@example.com&quot;,
  &quot;profile_data&quot;: {
    &quot;name&quot;: &quot;Demo User&quot;,
    &quot;preferences&quot;: {}
  }
}
                            &lt;/div&gt;
                            
                            &lt;div id=&quot;apiCallStatus&quot; class=&quot;status&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 5: Token Introspection and Refresh --&gt;
        &lt;div class=&quot;step&quot; id=&quot;step5&quot;&gt;
            &lt;div class=&quot;step-header&quot;&gt;
                &lt;h2&gt;Step 5: Token Introspection and Refresh&lt;/h2&gt;
                &lt;div class=&quot;step-number&quot;&gt;5&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;p&gt;Additional operations: check token validity and refresh expired tokens.&lt;/p&gt;
                
                &lt;div class=&quot;request-response&quot;&gt;
                    &lt;div class=&quot;request&quot;&gt;
                        &lt;h3&gt;Token Introspection&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;Check if a token is still valid and get information about it.&lt;/p&gt;
                            
                            &lt;div class=&quot;code-block&quot;&gt;
POST /introspect HTTP/1.1
Host: auth-server.example.com
Content-Type: application/x-www-form-urlencoded

token=ACCESS_TOKEN_XYZ
&amp;token_type_hint=access_token
&amp;client_id=example_client_id
&amp;client_secret=example_client_secret
                            &lt;/div&gt;
                            
                            &lt;button id=&quot;introspectToken&quot; class=&quot;btn btn-warning&quot; disabled&gt;Introspect Token&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;div class=&quot;response&quot;&gt;
                        &lt;h3&gt;Introspection Response&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;div class=&quot;code-block&quot; id=&quot;introspectionResponse&quot;&gt;
{
  &quot;active&quot;: true,
  &quot;scope&quot;: &quot;read write&quot;,
  &quot;client_id&quot;: &quot;example_client_id&quot;,
  &quot;username&quot;: &quot;demo_user&quot;,
  &quot;token_type&quot;: &quot;access_token&quot;,
  &quot;exp&quot;: 1620000000,
  &quot;iat&quot;: 1619996400
}
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
                &lt;div class=&quot;request-response&quot; style=&quot;margin-top: 20px;&quot;&gt;
                    &lt;div class=&quot;request&quot;&gt;
                        &lt;h3&gt;Token Refresh&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;p&gt;Use the refresh token to get a new access token without user interaction.&lt;/p&gt;
                            
                            &lt;div class=&quot;code-block&quot;&gt;
POST /token HTTP/1.1
Host: auth-server.example.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token
&amp;refresh_token=REFRESH_TOKEN_ABC
&amp;client_id=example_client_id
&amp;client_secret=example_client_secret
                            &lt;/div&gt;
                            
                            &lt;button id=&quot;refreshTokenBtn&quot; class=&quot;btn btn-warning&quot; disabled&gt;Refresh Token&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;div class=&quot;response&quot;&gt;
                        &lt;h3&gt;Refresh Response&lt;/h3&gt;
                        &lt;div class=&quot;request-content&quot;&gt;
                            &lt;div class=&quot;code-block&quot; id=&quot;refreshResponse&quot;&gt;
{
  &quot;access_token&quot;: &quot;NEW_ACCESS_TOKEN_XYZ&quot;,
  &quot;token_type&quot;: &quot;Bearer&quot;,
  &quot;expires_in&quot;: 3600,
  &quot;refresh_token&quot;: &quot;NEW_REFRESH_TOKEN_ABC&quot;,
  &quot;scope&quot;: &quot;read write&quot;
}
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;script&gt;
    document.addEventListener('DOMContentLoaded', function() {
        // Demo state
        const demoState = {
            currentStep: 0,
            authCode: null,
            accessToken: null,
            refreshToken: null,
            state: 'demo_state_' + Math.random().toString(36).substring(2, 15)
        };
        
        // DOM elements
        const startDemoBtn = document.getElementById('startDemo');
        const resetDemoBtn = document.getElementById('resetDemo');
        const approveAuthBtn = document.getElementById('approveAuth');
        const denyAuthBtn = document.getElementById('denyAuth');
        const exchangeTokenBtn = document.getElementById('exchangeToken');
        const makeApiCallBtn = document.getElementById('makeApiCall');
        const introspectTokenBtn = document.getElementById('introspectToken');
        const refreshTokenBtn = document.getElementById('refreshTokenBtn');
        const statusMessage = document.getElementById('statusMessage');
        
        // Initialize the demo
        function initDemo() {
            // Reset all steps
            document.querySelectorAll('.step').forEach(step =&gt; {
                step.classList.remove('active');
            });
            
            // Reset all displays
            document.getElementById('authCodeDisplay').textContent = 'Not received yet';
            document.getElementById('stateDisplay').textContent = 'Not received yet';
            document.getElementById('accessTokenDisplay').textContent = 'Not received yet';
            document.getElementById('refreshTokenDisplay').textContent = 'Not received yet';
            
            // Reset demo state
            demoState.currentStep = 0;
            demoState.authCode = null;
            demoState.accessToken = null;
            demoState.refreshToken = null;
            
            // Update redirect location with new state
            document.getElementById('redirectLocation').textContent = 
                `https://client.example.com/callback?\ncode=AUTH_CODE_${Math.random().toString(36).substring(2, 10).toUpperCase()}\n&amp;state=${demoState.state}`;
            
            // Disable all buttons except start
            setButtonsState(false);
            startDemoBtn.disabled = false;
            
            // Show initial status message
            statusMessage.textContent = 'Click &quot;Start Demo Flow&quot; to begin the OAuth 2.0 Authorization Code Grant Flow demonstration.';
            statusMessage.className = 'status status-info';
            statusMessage.style.display = 'block';
        }
        
        // Set the state of interactive buttons
        function setButtonsState(enabled) {
            approveAuthBtn.disabled = !enabled;
            denyAuthBtn.disabled = !enabled;
            exchangeTokenBtn.disabled = !enabled;
            makeApiCallBtn.disabled = !enabled;
            introspectTokenBtn.disabled = !enabled;
            refreshTokenBtn.disabled = !enabled;
        }
        
        // Advance to the next step
        function nextStep() {
            demoState.currentStep++;
            
            // Activate the current step
            document.querySelectorAll('.step').forEach((step, index) =&gt; {
                if (index &lt; demoState.currentStep) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
            
            // Scroll to the current step
            if (demoState.currentStep &gt; 0) {
                document.getElementById(`step${demoState.currentStep}`).scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // Start the demo
        startDemoBtn.addEventListener('click', function() {
            initDemo();
            nextStep();
            setButtonsState(true);
            
            statusMessage.textContent = 'Step 1: Authorization Request - The client is redirecting the user to the authorization server.';
            statusMessage.className = 'status status-info';
        });
        
        // Reset the demo
        resetDemoBtn.addEventListener('click', initDemo);
        
        // User approves the authorization request
        approveAuthBtn.addEventListener('click', function() {
            // Generate a random authorization code
            demoState.authCode = 'AUTH_CODE_' + Math.random().toString(36).substring(2, 10).toUpperCase();
            
            // Update the display
            document.getElementById('authCodeDisplay').textContent = demoState.authCode;
            document.getElementById('stateDisplay').textContent = demoState.state;
            
            // Update the token request with the actual auth code
            const tokenRequestElement = document.querySelector('#step3 .code-block');
            tokenRequestElement.textContent = tokenRequestElement.textContent.replace('AUTH_CODE_12345', demoState.authCode);
            
            nextStep();
            
            statusMessage.textContent = 'Step 2: Authorization Response - The authorization server has redirected back to the client with an authorization code.';
            statusMessage.className = 'status status-success';
        });
        
        // User denies the authorization request
        denyAuthBtn.addEventListener('click', function() {
            statusMessage.textContent = 'Authorization denied by user. The OAuth flow cannot continue.';
            statusMessage.className = 'status status-error';
            
            // Disable further steps
            setButtonsState(false);
        });
        
        // Exchange authorization code for tokens
        exchangeTokenBtn.addEventListener('click', function() {
            // Generate tokens
            demoState.accessToken = 'ACCESS_TOKEN_' + Math.random().toString(36).substring(2, 15).toUpperCase();
            demoState.refreshToken = 'REFRESH_TOKEN_' + Math.random().toString(36).substring(2, 15).toUpperCase();
            
            // Update displays
            document.getElementById('accessTokenDisplay').textContent = demoState.accessToken;
            document.getElementById('refreshTokenDisplay').textContent = demoState.refreshToken;
            
            // Update the token response
            const tokenResponseElement = document.getElementById('tokenResponse');
            tokenResponseElement.textContent = tokenResponseElement.textContent
                .replace('ACCESS_TOKEN_XYZ', demoState.accessToken)
                .replace('REFRESH_TOKEN_ABC', demoState.refreshToken);
            
            // Update API request with actual token
            const apiRequestElement = document.querySelector('#step4 .code-block');
            apiRequestElement.textContent = apiRequestElement.textContent.replace('ACCESS_TOKEN_XYZ', demoState.accessToken);
            
            nextStep();
            
            statusMessage.textContent = 'Step 3: Token Request - The client has exchanged the authorization code for an access token and refresh token.';
            statusMessage.className = 'status status-success';
        });
        
        // Make API call with access token
        makeApiCallBtn.addEventListener('click', function() {
            const apiCallStatus = document.getElementById('apiCallStatus');
            apiCallStatus.textContent = 'API call successful! The access token was accepted by the resource server.';
            apiCallStatus.className = 'status status-success';
            apiCallStatus.style.display = 'block';
            
            nextStep();
            
            statusMessage.textContent = 'Step 4: Using the Access Token - The client successfully accessed protected resources using the access token.';
            statusMessage.className = 'status status-success';
        });
        
        // Introspect token
        introspectTokenBtn.addEventListener('click', function() {
            const introspectionResponse = document.getElementById('introspectionResponse');
            introspectionResponse.textContent = JSON.stringify({
                active: true,
                scope: &quot;read write&quot;,
                client_id: &quot;example_client_id&quot;,
                username: &quot;demo_user&quot;,
                token_type: &quot;access_token&quot;,
                exp: Math.floor(Date.now() / 1000) + 3600,
                iat: Math.floor(Date.now() / 1000)
            }, null, 2);
            
            statusMessage.textContent = 'Token introspection completed - The token is valid and active.';
            statusMessage.className = 'status status-info';
        });
        
        // Refresh token
        refreshTokenBtn.addEventListener('click', function() {
            // Generate new tokens
            const newAccessToken = 'NEW_ACCESS_TOKEN_' + Math.random().toString(36).substring(2, 15).toUpperCase();
            const newRefreshToken = 'NEW_REFRESH_TOKEN_' + Math.random().toString(36).substring(2, 15).toUpperCase();
            
            // Update the refresh response
            const refreshResponse = document.getElementById('refreshResponse');
            refreshResponse.textContent = refreshResponse.textContent
                .replace('NEW_ACCESS_TOKEN_XYZ', newAccessToken)
                .replace('NEW_REFRESH_TOKEN_ABC', newRefreshToken);
            
            // Update displays with new tokens
            document.getElementById('accessTokenDisplay').textContent = newAccessToken;
            document.getElementById('refreshTokenDisplay').textContent = newRefreshToken;
            
            // Update API request with new token
            const apiRequestElement = document.querySelector('#step4 .code-block');
            apiRequestElement.textContent = apiRequestElement.textContent.replace(demoState.accessToken, newAccessToken);
            
            // Update demo state
            demoState.accessToken = newAccessToken;
            demoState.refreshToken = newRefreshToken;
            
            statusMessage.textContent = 'Token refresh completed - New access token and refresh token have been issued.';
            statusMessage.className = 'status status-success';
        });
        
        // Initialize the demo on page load
        initDemo();
    });
&lt;/script&gt;
</code></pre>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAuth 2.0 - What Actually Happens</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
<pre><code>    body {
        background: #f5f7fa;
        color: #2c3e50;
        line-height: 1.6;
        padding: 20px;
    }
    
    .container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    h1 {
        text-align: center;
        margin-bottom: 10px;
        color: #2c3e50;
    }
    
    .subtitle {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 30px;
        font-size: 1.1rem;
    }
    
    .reality-check {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-left: 4px solid #f39c12;
        padding: 20px;
        margin: 20px 0;
        border-radius: 5px;
    }
    
    .flow-entities {
        display: flex;
        justify-content: space-between;
        margin: 40px 0;
        text-align: center;
    }
    
    .entity {
        flex: 1;
        padding: 20px;
        margin: 0 10px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    .entity h3 {
        margin-bottom: 10px;
        color: #2c3e50;
    }
    
    .user { border-top: 4px solid #3498db; }
    .browser { border-top: 4px solid #2ecc71; }
    .client { border-top: 4px solid #e74c3c; }
    .auth-server { border-top: 4px solid #9b59b6; }
    
    .flow-steps {
        display: flex;
        flex-direction: column;
        gap: 25px;
        margin: 30px 0;
    }
    
    .step {
        display: flex;
        align-items: center;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid #3498db;
    }
    
    .step-number {
        background: #3498db;
        color: white;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 20px;
        flex-shrink: 0;
    }
    
    .step-content {
        flex: 1;
    }
    
    .step-title {
        font-weight: bold;
        margin-bottom: 5px;
        color: #2c3e50;
    }
    
    .step-description {
        color: #7f8c8d;
        font-size: 0.95rem;
    }
    
    .technical-details {
        background: #2c3e50;
        color: white;
        padding: 15px;
        border-radius: 5px;
        margin-top: 10px;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
    }
    
    .key-points {
        background: #e8f4fd;
        border-radius: 8px;
        padding: 25px;
        margin: 30px 0;
    }
    
    .key-points h3 {
        margin-bottom: 15px;
        color: #2c3e50;
    }
    
    .key-points ul {
        list-style-position: inside;
    }
    
    .key-points li {
        margin-bottom: 10px;
        padding-left: 10px;
    }
    
    .confusion-clarification {
        background: #fdede8;
        border-radius: 8px;
        padding: 25px;
        margin: 30px 0;
    }
&lt;/style&gt;
</code></pre>
</head>
<body>
    <div class="container">
        <h1>OAuth 2.0 Authorization Code Flow</h1>
        <p class="subtitle">What actually happens behind the "Login with X" button</p>
<pre><code>    &lt;div class=&quot;reality-check&quot;&gt;
        &lt;strong&gt;Common Confusion:&lt;/strong&gt; Most diagrams oversimplify by showing direct communication between User and Authorization Server, but in reality, everything happens through the user's browser.
    &lt;/div&gt;

    &lt;div class=&quot;flow-entities&quot;&gt;
        &lt;div class=&quot;entity user&quot;&gt;
            &lt;h3&gt;üë§ User&lt;/h3&gt;
            &lt;p&gt;Wants to access an app&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class=&quot;entity browser&quot;&gt;
            &lt;h3&gt;üåê User's Browser&lt;/h3&gt;
            &lt;p&gt;The actual messenger&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class=&quot;entity client&quot;&gt;
            &lt;h3&gt;üíª Client App&lt;/h3&gt;
            &lt;p&gt;Wants user data&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class=&quot;entity auth-server&quot;&gt;
            &lt;h3&gt;üîê Auth Server&lt;/h3&gt;
            &lt;p&gt;Holds user data&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class=&quot;flow-steps&quot;&gt;
        &lt;!-- Step 1 --&gt;
        &lt;div class=&quot;step&quot;&gt;
            &lt;div class=&quot;step-number&quot;&gt;1&lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;div class=&quot;step-title&quot;&gt;User clicks &quot;Login&quot;&lt;/div&gt;
                &lt;div class=&quot;step-description&quot;&gt;
                    User visits your app and clicks the login button
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 2 --&gt;
        &lt;div class=&quot;step&quot;&gt;
            &lt;div class=&quot;step-number&quot;&gt;2&lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;div class=&quot;step-title&quot;&gt;Browser redirects to Auth Server&lt;/div&gt;
                &lt;div class=&quot;step-description&quot;&gt;
                    Your app returns an HTTP redirect to the authorization endpoint
                    &lt;div class=&quot;technical-details&quot;&gt;
                        HTTP 302 Found&lt;br&gt;
                        Location: https://auth.server/authorize?response_type=code&amp;client_id=123&amp;redirect_uri=...
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 3 --&gt;
        &lt;div class=&quot;step&quot;&gt;
            &lt;div class=&quot;step-number&quot;&gt;3&lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;div class=&quot;step-title&quot;&gt;Auth Server shows login page&lt;/div&gt;
                &lt;div class=&quot;step-description&quot;&gt;
                    User enters credentials directly on the auth server's domain
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 4 --&gt;
        &lt;div class=&quot;step&quot;&gt;
            &lt;div class=&quot;step-number&quot;&gt;4&lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;div class=&quot;step-title&quot;&gt;Auth Server redirects back with code&lt;/div&gt;
                &lt;div class=&quot;step-description&quot;&gt;
                    After successful login, auth server redirects browser back to your app with an authorization code
                    &lt;div class=&quot;technical-details&quot;&gt;
                        HTTP 302 Found&lt;br&gt;
                        Location: https://yourapp.com/callback?code=AUTH_CODE_HERE
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 5 --&gt;
        &lt;div class=&quot;step&quot;&gt;
            &lt;div class=&quot;step-number&quot;&gt;5&lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;div class=&quot;step-title&quot;&gt;Server exchanges code for token&lt;/div&gt;
                &lt;div class=&quot;step-description&quot;&gt;
                    Your backend makes a direct server-to-server call to exchange the code for an access token
                    &lt;div class=&quot;technical-details&quot;&gt;
                        POST https://auth.server/token&lt;br&gt;
                        grant_type=authorization_code&amp;code=AUTH_CODE_HERE&amp;client_secret=...
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Step 6 --&gt;
        &lt;div class=&quot;step&quot;&gt;
            &lt;div class=&quot;step-number&quot;&gt;6&lt;/div&gt;
            &lt;div class=&quot;step-content&quot;&gt;
                &lt;div class=&quot;step-title&quot;&gt;Use access token&lt;/div&gt;
                &lt;div class=&quot;step-description&quot;&gt;
                    Your app uses the access token to make API calls on behalf of the user
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class=&quot;key-points&quot;&gt;
        &lt;h3&gt;What Most People Get Wrong:&lt;/h3&gt;
        &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;The browser does all the redirecting&lt;/strong&gt; - not the servers talking directly&lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;User never leaves their browser&lt;/strong&gt; - they're just visiting different URLs&lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;Only Step 5 is server-to-server&lt;/strong&gt; - everything else is browser redirects&lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;The &quot;code&quot; is just a temporary token&lt;/strong&gt; - it's useless without the client secret&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;

    &lt;div class=&quot;confusion-clarification&quot;&gt;
        &lt;h3&gt;Why This Matters:&lt;/h3&gt;
        &lt;p&gt;Understanding that the browser is the messenger explains:&lt;/p&gt;
        &lt;ul&gt;
            &lt;li&gt;Why OAuth works for web apps (the browser can redirect)&lt;/li&gt;
            &lt;li&gt;Why native/mobile apps need special handling (they don't have a browser's redirect capability)&lt;/li&gt;
            &lt;li&gt;Where security vulnerabilities actually occur (URL manipulation, CSRF, etc.)&lt;/li&gt;
            &lt;li&gt;Why PKCE was added for public clients (to replace the client secret)&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
</body>
</html>
  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
      2017 -
    
    2025
     SecLice 
    ¬∑
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
